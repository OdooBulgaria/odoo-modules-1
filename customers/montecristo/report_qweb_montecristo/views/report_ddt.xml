<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <template id="report_ddt">
          <t t-call="report.html_container">
            <t t-foreach="docs" t-as="o">            
              <div class="page">
                <div class="oe_structure">
                  <t t-set="t_limit" t-value="52"/>
                  <t t-esc="setLang(o.partner_id.lang)"/>
                  <t t-set="records" t-value="get_records(o)"/>
                  <t t-set="num_pages" t-value="get_num_pages(o, t_limit)"/>                
                  <div class="row">
                    <t t-foreach="num_pages" t-as="actual_page">
                      <div class="col-xs-12">
                        <table width="100%">                      
                          <tr>
                            <td style="width: 50%;">
                              <img src="/report_qweb_montecristo/static/img/Logo_Montecristo.png" style="width:100%; heigth: 100%"/>
                            </td> 
                            <td style="vertical-align: top !important; padding-top: 35px;">
                              <table style="width:100%; height:180px; min-height: 180px !important; max-height:180px !important;">
                                <tr  style="border: 1px solid black; padding-top: 10px; padding-bottom: 1px; background-color: #cccccc;">
                                  <td>
                                  <div style="text-align: center; font-size: 22px;">DOCUMENTO DI TRASPORTO</div>
                                </td>    
                                </tr>
                                <tr style="border: 1px solid black; border-bottom: none;">
                                <td>
                                  <div style="font-size: x-small; padding-left: 2px;">Spett.le/Bill to:</div>
                                  <t t-if="not o.delivery_address_id">
                                  	<br />
                                  </t>
                                  <div style="font-size: small; padding-left: 12px;" t-esc="o.partner_id.name"/>
                                  <div style="font-size: small; padding-left: 12px;">
                    				<span t-esc="o.partner_id.street"/>
									<span t-if="o.partner_id.street">-</span>	                                  	
                                    <span t-esc="o.partner_id.zip"/>
                                    <span t-if="o.partner_id.zip">-</span>
                                    <span t-esc="o.partner_id.city"/>
                                    <span t-if="o.partner_id.province">(</span>
                                    <span t-esc="o.partner_id.province.code"/>
                                    <span t-if="o.partner_id.province">)</span>
                                  </div>
                                  <div t-if="(not o.partner_id.zip) and (not o.partner_id.province) and (not o.partner_id.city)" style="padding-left: 12px;"><br /></div>                                  
                                </td>
                                </tr>                         
                                
                    			<t t-if="o.delivery_address_id">                                
	                                <tr style="border: 1px solid black; border-top: none;">    
		                                <td>
		                                  <div style="font-size: x-small; padding-left: 2px;">Destinazione Merce / Delivery Address:</div>
	                    					<div style="font-size: small; padding-left: 5pt;" t-esc="o.delivery_address_id.name"/> 
		                        			<div style="font-size: small; padding-left: 5pt;">
		                        				<span t-esc="o.delivery_address_id.street"/>
												<span t-if="o.delivery_address_id.street">-</span>				                            				
												<span t-esc="o.delivery_address_id.zip"/>
												<span t-if="o.delivery_address_id.zip">-</span>
												<span t-esc="o.delivery_address_id.city"/>
												<span t-if="o.delivery_address_id.province">(</span>
												<span t-esc="o.delivery_address_id.province.code"/>
												<span t-if="o.delivery_address_id.province">)</span>
											</div>		                                  
		                                </td>
	                                </tr>

								</t>
								<t t-if="not o.delivery_address_id">
	                                <tr style="border: 1px solid black; border-top: none;">
	                                	<td>
	                                		<br />
                                		</td>
	                                </tr>    
								</t>                                                                                             
                              </table>
                            </td>
                          </tr>
                        </table>
                        <table style="width:100%; heigth: 30px; border: 1px solid black; margin-top: 3px;">
                          <tr>
                            <td style="width:29%; border: 1px solid black; background-color: #cccccc;">
                              <div style="font-size: xx-small; padding-left: 2px;">NUMERO DOCUMENTO/DOC.NUMBER</div>
                              <div style="text-align: center;" t-esc="o.name"/>
                            </td>
                            <td style="width:29%; border: 1px solid black; background-color: #cccccc;">
                              <div style="font-size: xx-small; padding-left: 2px;">DATA DOCUMENTO/DATE</div>
                              <div style="text-align: center;" t-esc="formatLang(o.date, date=True)"/>                          
                            </td>
                            <td style="width:29%; border: 1px solid black;">
                              <div style="font-size: xx-small; padding-left: 2px;">PARTITA IVA/VAT/TVA code</div>
                              <div style="text-align: center;" t-esc="o.partner_id.vat"/>                            
                            </td>
                            <td style="width:13%; border: 1px solid black;">
                              <div style="font-size: xx-small; padding-left: 2px;">PAG.</div>
                              <div style="text-align: center;">
                                <span t-esc="actual_page+1"/>
                                <span>/</span>
                                <span t-esc="num_pages"/>
                              </div>                          
                            </td>                                                                
                          </tr>                    
                        </table>
<!-- TODO ?
                        <table style="width:100%; heigth: 30px; border: 1px solid black;"> 
                          <tr>
                            <td style="width:38%; border: 1px solid black;">
                              <div style="font-size: xx-small; padding-left: 2px;">CONDIZIONI DI PAGAMENTO / PAYMENT</div>

                              <t t-if="o.sale_id.payment_term">
                                <div style="text-align: center; font-size: small;" t-esc="o.sale_id.payment_term.name"/>
                              </t>
                              <t t-if="not o.sale_id.payment_term">    
                                <div style="font-size: small;"><br /></div>
                              </t>

                            </td>
                            <t t-if="o.partner_id.country_id.code == 'IT'">
                                <td style="border: 1px solid black; width:12%;">
                                    <div style="font-size: xx-small; padding-left: 2px;">ABI</div>
                                    <div>
                                        <span  style="text-align: left; padding-left: 5px;" t-esc="get_abi(o)"/>
                                    </div>                                              
                                </td>
                                <td style="border: 1px solid black; width:12%;">
                                    <div style="font-size: xx-small; padding-left: 2px;">CAB</div>
                                    <div>
                                        <span  style="text-align: left; padding-left: 5px;" t-esc="get_cab(o)"/>
                                    </div>                                              
                                </td>                                                                                                           
                            </t>
                            <t t-if="o.partner_id.country_id.code != 'IT'">
                                <td colspan = "2" style="width:24%; border: 1px solid black;">
                                    <div style="font-size: xx-small; padding-left: 2px;">IBAN</div>
                                    <div style="font-size: x-small;">
                                        <span  style="text-align: left; padding-left: 5px;" t-esc="get_iban(o)"/>
                                    </div>                                              
                                </td>                                                       
                            </t>  
                            <td style="width:38%; border: 1px solid black;">
                              <div style="font-size: xx-small; padding-left: 2px;">BANCA D'APPOGGIO / BANK</div>
                              <div style="font-size: x-small;">
                                <span style="text-align: left; padding-left: 5px;">IBAN: IT64G0200814303000003689750</span><br />
                                <span style="text-align: left; padding-left: 5px;">SWIFT CODE/BIC: UNCRITM1528</span>
                              </div>                               
                            </td>                                                                
                          </tr>
                        </table>
-->
                        <table style="width:100%; border: 1px solid black; ">
                          <tr style="font-size: xx-small; border: 1px solid black;">
                            <td style="border: 1px solid black; vertical-align: middle;">
                              <div>COD.ART/CODE</div>
                            </td>
                            <td style="border: 1px solid black; vertical-align: middle;">
                              <div>COL.</div>
                            </td>
                            <td colspan="11" style="padding-left: 5pt; vertical-align: middle; border: 1px solid black;">
                              <div>DESCRIZIONE / DESCRIPTION</div>
                            </td>               
                            <td style="text-align: center; vertical-align: middle; border: 1px solid black;">
                              <div>TOT QT.</div>
                            </td>               
                          </tr>
                          <tr  style="font-size: x-small;">
                            <td style="width:10%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:28%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:5%; border: 1px solid black;"><div><br /></div></td>
                            <td style="width:7%; border: 1px solid black;"><div><br /></div></td>
                          </tr>
                          <t t-foreach="get_record_slice(records,actual_page*t_limit,(actual_page+1)*t_limit)" t-as="record">
                            <t t-if="record[0]">
                              <tr  style="font-size: x-small; text-align: center;"> 
                                <td style="border: 1px solid black;"><div t-esc="record[1]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[2]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[3]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[4]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[5]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[6]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[7]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[8]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[9]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[10]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[11]"/></td>
                                <td style="border: 1px solid black;"><div t-esc="record[12]"/></td>                            
                                <td style="border: 1px solid black;"><div t-esc="record[13]"/></td>                                                        
                                <td style="border: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[14]"/></td>                                                                                                                                                                                                                
                              </tr>
                            </t>
                            <t t-if="not record[0]">
                              <tr  style="font-size: x-small; font-weight: bold; text-align: center;"> 
                                <td style="border-left: 1px solid black; text-align: left; padding-left: 5pt;"><div t-esc="record[1]"/></td>
                                <td style="border-left: 1px solid black;">
                                <t t-if="record[2]">
                                  <div t-esc="record[2]"/>
                                </t>
                                <t t-if="not record[2]"> 
                                  <div><br /></div>
                                </t>
                                </td>
                                <td style="border-left: 1px solid black; text-align: left; padding-left: 5pt;"><div t-esc="record[3]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[4]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[5]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[6]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[7]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[8]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[9]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[10]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[11]"/></td>
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[12]"/></td>                            
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[13]"/></td>                                                        
                                <td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[14]"/></td>                                                                                                                                                                                                                  
                              </tr>                              
                            </t>                          
                          </t> 
                        </table>
                        <table style="width:100%; border: 1px solid black;">
                          <tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
                            <td style="width:36%; border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>PORTO/FREIGHT</div>    
                            </td>
                            <td colspan="2" style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>VETTORE/SHIPPING AGENT</div>    
                            </td>
                            <td colspan="2" style="border: 1px solid black; border-bottom: none; text-align: left;  padding-left: 5pt;">
                            	<div>TERMINI DI PAGAMENTO</div>
                            </td>                                                                                                                
                          </tr>
                          <tr style="font-size: small; vertical-align: middle;">
                            <td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                              <t t-if="o.incoterm_id">
                                <div t-esc="o.incoterm_id.name"/>
                              </t>
                              <t t-if="not o.incoterm_id">
                                <br />
                              </t>
                            </td>
                            <td colspan="2" style="border-left: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                              <t t-if="o.carrier_id">
                                <div t-esc="o.carrier_id.name"/>    
                              </t>                                
                            </td>    
                            <td colspan="2" style="border-left: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                              <t t-if="o.payment_term">
                                <div t-esc="o.payment_term.name"/>    
                              </t>                                
                            </td>                                                                                                                                           
                          </tr>
                          <tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
                            <td style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>CAUSALE DEL TRASPORTO/CAUSE</div>    
                            </td>
                            <td style="width: 16%; border: 1px solid black; border-bottom: none;  text-align: left; font-size: 5pt;">
                              <div>COLLI/PARCEL N.</div>    
                            </td>
                            <td style="width: 16%; border: 1px solid black; border-bottom: none;  text-align: left;">
                              <div>PESO KG/WEIGHT</div>    
                            </td>    
                            <td style="width: 16%; border: 1px solid black; border-bottom: none;  text-align: left;">
                              <div>TOTALE PZ./TOT.PCS</div>    
                            </td>
                            <td style="width: 16%; border: 1px solid black; border-bottom: none;  text-align: left;  padding-left: 5pt;">
                              <div>INIZIO TRASPORTO/PICKING UP</div>    
                            </td>                                                                                                                                                                                     
                          </tr>
                          <tr style="font-size: small; vertical-align: middle;">
                            <td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                            	<t t-if="o.transportation_reason_id">
		                            <div t-esc="o.transportation_reason_id.name"/>
		                        </t>
                            	<t t-if="not o.transportation_reason_id">
		                            <div><br /></div>
		                        </t>
                            </td>
                            <td style="border-left: 1px solid black; border-top: none; text-align: center;">
                              <div t-esc="o.parcels"/>
                            </td>
                            <td style="border-left: 1px solid black; border-top: none; text-align: center;">
                              <div t-esc="o.weight"/>
                            </td>
                            <td style="border-left: 1px solid black; border-top: none; text-align: right; padding-right: 3pt;">
                              <div t-esc="get_tot_pcs(o)"/>
                            </td>
                            <td style="border-left: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                              <div t-esc="formatLang(o.delivery_date, date=True)"/>
                            </td>
                          </tr>
                          <tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
                            <td style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>ASPETTO DEI BENI/GOOD APPEARANCE</div>
                            </td>                          	
                            <td colspan="2" style="background-color: #cccccc; border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>FIRMA DEL VETTORE/SHIPPING AGENT SIGNATURE</div>
                            </td>
                            <td colspan="2" style="background-color: #cccccc; border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>FIRMA DEL DESTINATARIO/RECIPIENT SIGNATURE</div>
                            </td>                                     
                          </tr>
                          <tr style="font-size: small; vertical-align: middle;">
                            <td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                            	<t t-if="o.goods_description_id">
                            		<div t-esc="o.goods_description_id.name"/>
                            	</t>
                            	<t t-if="not o.goods_description_id">
                            		<div><br /></div>
                            	</t>                            		
                            </td>
                            <td colspan="2" rowspan="3" style="border-left: 1px solid black; border-top: none; background-color: #cccccc;">
                              <div style="text-align: right; padding-right: 5pt;">
                                <br />
                              </div>
                            </td>
                            <td colspan="2" rowspan="3" style="border-left: 1px solid black; border-top: none; background-color: #cccccc;">
                              <div style="text-align: right; padding-right: 5pt;">
                                <br />
                              </div>
                            </td>                                                      	
                          </tr>
                          <tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
                            <td style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
                              <div>TRASPORTO A CURA DEL/SHIPPING BY</div>
                            </td>
                          </tr>
                          <tr style="font-size: small; vertical-align: middle;">
                            <td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
                              	<t t-if="o.transportation_method_id">
	                            	<div t-esc="o.transportation_method_id.name"/>
                            	</t>
                            	<t t-if="not o.transportation_method_id">
                            		<div><br /></div>
                            	</t>  
                            </td>
                          </tr>
                          <tr style="font-size: 5pt; vertical-align: middle; text-align: left; padding-left: 5pt; border: 1px solid black; border-bottom: none;">        
                            <td colspan="5">
                              <div>NOTE SPEDIZIONE</div>
                            </td>
                          </tr>
                          <tr style="font-size: small; text-align: left; padding-left: 5pt; border: 1px solid black; border-top:none;">        
                            <td colspan="5">
                              <t t-if="not o.note">
                                <div>
                                <br />
                                </div>
                              </t>
                              <t t-if="o.note">
                                <div t-esc="o.note"/>
                              </t>
                            </td>
                          </tr>
                          <t t-if="o.note2">
	                          <tr style="font-size: 5pt; vertical-align: middle; text-align: left; padding-left: 5pt; border: 1px solid black; border-bottom: none;">        
	                            <td colspan="5">
	                              <div>NOTE</div>
	                            </td>
	                          </tr>
	                          <tr style="font-size: small; text-align: left; padding-left: 5pt; border: 1px solid black; border-top:none;">        
	                            <td colspan="5">
	                                <div t-esc="o.note2"/>
	                            </td>
	                          </tr>
                          </t>                          
                          <tr colspan="6" style="font-size: 5pt; text-align: left; padding-left: 5pt; border: 1px solid black;">        
                            <td colspan="3">
                              <div>CONDIZIONI GENERALI DI VENDITA: 1. Non si accettano reclami trascorsi otto giorni dal ricevimento di quanto fornito. 2. La merce viaggia a rischio e pericolo del cliente anche se convenuto franco destino. 3. Salvo patto espresso, tutti i prezzi si intendono franco sede della ditta venditrice. 4. In caso di ritardo del pagamento decorreranno gli interessi commerciali nella misura del tasso ufficiale di sconto aumentato di 3 punti. 5. Per qualsiasi controversia si adirà all'autorità giudiziaria competente nel territorio della ditta venditrice. 6. Comunicateci eventuali errori/omissioni relativi ai vs dati anagrafici e fiscali.</div>
                            </td>
                            <td colspan="2" style="vertical-align: bottom;">
                              <div style="font-size: medium; text-align: right; padding-right: 5pt;">CONTRIBUTO CONAI ASSOLTO</div>
                            </td>
                          </tr>
                        </table>
                      </div>
                      <t t-if="num_pages != actual_page+1">
                        <p style="font-size: 1px; color: #ffffff; margin-bottom: 0in; page-break-after: always">-</p>
                      </t>
                    </t>
                  </div>
                </div>
              </div>
            </t>
          </t>
        </template>

</data>
</openerp>
